<html>
	<head>
		<title>Pig Latin Debugger</title>
		<link rel="stylesheet" type="text/css" href="../css/bootstrap.min.css">
		<link rel="stylesheet" type="text/css" href="../css/bootstrap-responsive.min.css">
		<link rel="stylesheet" type="text/css" href="../css/style.css">
		<link rel="stylesheet" type="text/css" href="codemirror/doc/docs.css">
		<link rel="stylesheet" type="text/css" href="codemirror/lib/codemirror.css">
		<style>
			a, a:visited, a:link, .quasilink {
			  color: #A21313;
			  text-decoration: none; 
			  font-family: Helvetica;
			  font-size: 10pt;
			}

			#namenodeDialog{
				width: 96%;
				left: 24%;
				height: 95%;
				top:3%;
			}

			#jobtrackerDialog{
				width: 96%;
				left: 24%;
				height: 95%;
				top:3%;
			}

			.modal-body{
				max-height: 95%;
			}
		</style>
	</head>
	<body>
		<h1 id="title" style="color:purple;font-family:Helvetica;">Pig Latin Debugger</h1>
		<marquee style="position:relative;left:41%;top:1%;width:45%;marquee-speed:slow;" direction=left><span class="label label-info">Pig Latin Debugger enables users to keep track of the execution of Pig Latin scripts</span></marquee>
		<h4 id="date" style="color:0000CC;"></h4>
		<img id="pigicon" src="img/pig.jpeg" />
		<ul id="navtab" class="nav nav-pills">
		  	<li class="active"><a href="/">Pig</a></li>
		  	<li><a id="namenode_navbar" data-toggle="modal" href="#namenodeDialog">Name Node UI</a></li>
		  	<li><a id="jobtracker_navbar" data-toggle="modal" href="#jobtrackerDialog">Job Tracker UI</a></li>
			<li><a id="queryhistory_navbar" href="/history" style="cursor: pointer;">Query History</a></li>
			<li><a id="hdfs_navbar" href="/hdfs" style="cursor: pointer;">HDFS</a></li>
			<li><a id="terminal_navbar" href="/terminal" style="cursor: pointer;">Terminal</a></li>
			<li><a id="about_navbar" style="cursor: pointer;">About Author</a></li>
		</ul>
		<div id="pigbody">
			<div class="container well" id="scriptZone">
				<form id="searchform" class="form-search">
					<div class="input-prepend">
						<button type="submit" style="height:17%;width:13%;" class="btn" disabled="true"><i class="icon-search icon-white"></i></button><input id="search" type="text" class="search-query" placeholder="Search">
					</div>
				</form>
	   			<div id="turnpage">
	   				<ul class="pager">
					  	<li><button class="btn btn-primary" onclick="lastPage()"><i class="icon-arrow-left icon-white"></i></button></li>
					  	<span id="currentPage"></span>/<span id="totalPage"></span>
					  	<li><button class="btn btn-primary" onclick="nextPage()"><i class="icon-arrow-right icon-white"></i></button></li>
					</ul>
	       		</div>
	   			<table id="scriptFiles" class="table table-striped table-condensed">
	   				<thead><tr><td>#</td><td>scripts</td></tr></thead>
	   				<tbody id="scripttable"></tbody>
	   			</table>
	   		</div>

	   		<a style="cursor: pointer;" id="tip" data-toggle="tooltip" data-placement="bottom">Do you know?</a>
	   		<div id="parameter">
		   		<div id="helper" class="btn-group">
					<a class="btn btn-info dropdown-toggle" data-toggle="dropdown">
					    Pig Helper
					    <span class="caret"></span>
					</a>
					<ul id="pighelper" class="dropdown-menu">
					</ul>
				</div>

				<div id="mode" class="btn-group">
					<a id="ModeText" class="btn btn-warning dropdown-toggle" data-toggle="dropdown">
					    Mode
					    <span class="caret"></span>
					</a>
					<ul id="modeSelector" style="cursor: pointer;" class="dropdown-menu">
						<li><a tabindex="-1" onclick="setMode(this.innerHTML)">local</a></li>
						<li><a tabindex="-1" onclick="setMode(this.innerHTML)">mapreduce</a></li>
					</ul>
				</div>
				<!--<div id="hadoopdirdiv">
					<input id="hadoopdir" type="text" placeholder="Hadoop Dir" />
				</div>-->
			</div>

			<div style="display: none;" id="namenodeDialog" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="windowTitleLabel" aria-hidden="true">
				<div class="modal-header">
					<h3>Name Node UI</h3>
				</div>
				<div class="modal-body" style="overflow-y: hidden;">
					<iframe id="namenodeiframe" style="position:relative;overflow:scroll;top:0%;width:100%;height:76%;"></iframe>
				</div>
				<div class="modal-footer">
					<a class="btn btn-primary" onclick="$('#namenodeDialog').modal('hide');">Close</a>
				</div>
			</div>

			<div style="display: none;" id="jobtrackerDialog" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="windowTitleLabel" aria-hidden="true">
				<div class="modal-header">
					<h3>Job Tracker UI</h3>
				</div>
				<div class="modal-body" style="overflow-y: hidden;">
					<iframe id="jobtrackeriframe" style="position:relative;overflow:scroll;top:0%;width:100%;height:76%;"></iframe>
				</div>
				<div class="modal-footer">
					<a class="btn btn-primary" onclick="$('#jobtrackerDialog').modal('hide');">Close</a>
				</div>
			</div>

			<div id="buttongroup1">
				<button class="btn btn-success" id="executeButton" onclick="executeScript()">Execute <i class="icon-play-circle icon-white"></i></button>
				<button class="btn btn-danger" id="killButton" onclick="killScript()">Kill <i class="icon-stop icon-white"></i></button>
				<button class="btn btn-info" id="explainButton" onclick="explainAlias()">Explain <i class="icon-info-sign icon-white"></i></button>
			</div>
			
			<div class="container well" id="input">
	   			<div id="scriptNameInputDiv">
					<input id="scriptNameInput" type="text" placeholder="Script name">
				</div>
	   			<button class="btn btn-success" id="createScriptButton" onclick="createScript()">New <i class="icon-plus-sign icon-white"></i></button>
	   			<button class="btn btn-primary" id="saveScriptButton" onclick="saveScript()">Save <i class="icon-hdd icon-white"></i></button>
	   			<button class="btn btn-danger" id="resetinputButton" onclick="resetScript()">Reset script <i class="icon-repeat icon-white"></i></button>
				<textarea id="scriptinputarea" style="word-break:break-all;"></textarea>
		   		<div id="progressBar" class="progress progress-striped active">
					<div id="progression" class="bar" style="width:0%;font-style:normal;font-size:100%;">0%</div>
				</div>
			</div>

			<div id="buttongroup2">
				<button class="btn btn-warning" id="downloadOutputButton" onclick="downloadOutput()">Download Output <i class="icon-download-alt icon-white"></i></button>
				<button class="btn btn-primary" id="downloadProgressLogButton" onclick="downloadProgressLog()">Download ProgressLog <i class="icon-download-alt icon-white"></i></button>
				<button class="btn btn-info" id="downloadExplainLogButton" onclick="downloadExplainLog()">Download ExplainLog <i class="icon-download-alt icon-white"></i></button>
				<button class="btn btn-warning" id="outputButton" onclick="openOutputLog()">Open Output <i class="icon-folder-open icon-white"></i></button>
				<button class="btn btn-primary" id="logButton" onclick="openStateLog()">Open ProgressLog <i class="icon-folder-open icon-white"></i></button>
				<button class="btn btn-info" id="explainLogButton" onclick="openExplainLog()">Open ExplainLog <i class="icon-folder-open icon-white"></i></button>
			</div>
			<span id="success" style="cursor: pointer;" class="label label-default">State</span>
			
			<div id="logcontainer">
				
				<div class="container well" id="progressLog">
					<table id="progressLogTable" class="table table-striped table-condensed">
	       				<caption>
	       					<h5>Progress Log</h5>
	       					<br />
	       				</caption>
	       				<tbody id="stateLog"></tbody>
	       			</table>
				</div> 

				<div class="container well" id="result">
					<h5 id="outputlabel">Output</h5>
					<textarea id="resultarea" disabled="true"></textarea>
				</div>

				<div class="container well" id="explainlog">
					<h5 id="explainlabel">Explain Log</h5>
					<textarea id="explainarea" disabled="true"></textarea>
				</div>

				<div id="progressBarBackup" class="progress progress-striped active">
					  <div id="progressionBackup" class="bar" style="width:0%;font-style:normal;font-size:100%;">0%</div>
				</div>
			</div>
		</div>
		
        <script src="socket.io/socket.io.js" type="text/javascript"></script>
        <script src="http://code.jquery.com/jquery-1.10.2.min.js" type="text/javascript"></script>
	    <script src="../js/bootstrap.min.js" type="text/javascript"></script>
	    <script src="../js/bootstrap-transition.js" type="text/javascript"></script>
		<script src="../js/bootstrap-modal.js" type="text/javascript"></script>
	    <script src="../js/viewport.js" type="text/javascript"></script>
	    <script src="../codemirror/lib/codemirror.js" type="text/javascript"></script>
		<script src="../codemirror/mode/pig/pig.js" type="text/javascript"></script>
		<script src="../js/index.js" type="text/javascript"></script>
	</body>
</html>
